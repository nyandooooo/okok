push() {
  read -p "Tape le message de commit : " MESSAGE
  if [ -z "$MESSAGE" ]; then
    echo "Message de commit vide, annulation."
    return 1
  fi

  # VÃ©rifie si remote 'origin' existe
  if ! git remote get-url origin &> /dev/null; then
    echo "Aucun remote 'origin' trouvÃ©."
    read -p "Entrez le nom du dÃ©pÃ´t GitHub Ã  lier : " DEPOT
    if [ -z "$DEPOT" ]; then
      echo "Nom du dÃ©pÃ´t vide, annulation."
      return 1
    fi
    git remote add origin git@github.com:nyandooooo/"$DEPOT".git
    echo "Remote SSH ajoutÃ© : git@github.com:nyandooooo/$DEPOT.git"
  fi

  # VÃ©rifie si la branche est bien initialisÃ©e
  BRANCH=$(git branch --show-current)
  if [ -z "$BRANCH" ]; then
    echo "Branche introuvable, crÃ©ation de 'main'"
    git checkout -b main
    BRANCH="main"
  fi

  git add .
  git commit -m "$MESSAGE"
  git push -u origin "$BRANCH"
}



pull() {
  read -p "Entrez le nom du dÃ©pÃ´t GitHub : " DEPOT
  if [ -z "$DEPOT" ]; then
    echo "âŒ Nom du dÃ©pÃ´t vide, annulation."
    return 1
  fi

  # Configurer ou mettre Ã  jour l'origin
  if ! git remote get-url origin &> /dev/null; then
    git remote add origin git@github.com:nyandooooo/"$DEPOT".git
    echo "âœ… Remote SSH ajoutÃ© : git@github.com:nyandooooo/$DEPOT.git"
  else
    git remote set-url origin git@github.com:nyandooooo/"$DEPOT".git
    echo "ðŸ” Remote SSH mis Ã  jour : git@github.com:nyandooooo/$DEPOT.git"
  fi

  # Choix obligatoire entre main ou master
  echo "ðŸ”€ Choisis la branche Ã  rÃ©cupÃ©rer :"
  echo "1) main"
  echo "2) master"
  read -p "Tape 1 ou 2 : " CHOIX

  case "$CHOIX" in
    1)
      BRANCH="main"
      ;;
    2)
      BRANCH="master"
      ;;
    *)
      echo "âŒ Choix invalide, annulation."
      return 1
      ;;
  esac

  # Bascule vers la branche choisie, ou la crÃ©e si elle n'existe pas
  if git rev-parse --verify "$BRANCH" &> /dev/null; then
    git checkout "$BRANCH"
  else
    echo "ðŸ†• CrÃ©ation de la branche locale '$BRANCH'..."
    git checkout -b "$BRANCH"
  fi

  echo "ðŸ“¥ RÃ©cupÃ©ration depuis GitHub : origin/$BRANCH"
  git pull --rebase origin "$BRANCH"
}
